
<div class='tui-container tui-container_fullwidth space-y-4' >
  <div class='tui-row'>
    <nz-page-header
      class="site-page-header"
      nzTitle="Dashboard"
      nzSubtitle="Overview"
    ></nz-page-header>
  </div>
  <div class='tui-row tui-row_adaptive tui-row_align_center' *ngIf='vm$|async'>
    <nz-col class='tui-col_xs-6 tui-col_md-4 tui-col_lg-3'>
      <nz-card [nzBordered]='true' [nzHoverable]='true' [nzLoading]='schoolsLoading$|async'>
        <nz-statistic
          [nzValue]="(totalSchoolsCount$$|async | number)!"
          [nzTitle]="'Total Schools'"
          [nzPrefix]="prefixTplOne"
          [nzSuffix]=""
          [nzValueStyle]="{ color: '#3F8600' }"
        ></nz-statistic>
        <ng-template #prefixTplOne>
          <span class='fa fa-bank'></span>
        </ng-template>
      </nz-card>
    </nz-col>
    <nz-col class='tui-col_xs-6 tui-col_md-4 tui-col_lg-3' >
      <nz-card [nzBordered]='true' [nzHoverable]='true' [nzLoading]='schoolsLoading$|async'>
        <nz-statistic
          [nzValue]="(totalDispatchedCount$$|async | number)!"
          [nzTitle]="'Dispatched Enrollment Notice'"
          [nzPrefix]="prefixTplTwo"
          [nzSuffix]=""
          [nzValueStyle]="{ color: '#1323cf' }"
        ></nz-statistic>
        <ng-template #prefixTplTwo>
          <span class='fa fa-send'></span>
        </ng-template>
      </nz-card>
    </nz-col>

    <nz-col class='tui-col_xs-6 tui-col_md-4 tui-col_lg-3'>
      <nz-card [nzBordered]='true' [nzHoverable]='true' [nzLoading]='schoolsLoading$|async'>
        <nz-statistic
          [nzValue]="(totalEnrolledCount$$|async | number)!"
          [nzTitle]="'Enrolled Schools'"
          [nzPrefix]="prefixTplThree"
          [nzSuffix]=""
          [nzValueStyle]="{ color: '#cf1355' }"
        ></nz-statistic>
        <ng-template #prefixTplThree>
          <span class='fa fa-check-square'></span>
        </ng-template>
      </nz-card>
    </nz-col>

    <nz-col class='tui-col_xs-6 tui-col_md-4 tui-col_lg-3'>
      <nz-card [nzBordered]='true' [nzHoverable]='true' [nzLoading]='schoolsLoading$|async'>
        <nz-statistic
          [nzValue]="(totalPendingEnrollmentCount$|async | number)!"
          [nzTitle]="'Pending Enrollment'"
          [nzPrefix]="prefixLocalMembers"
        ></nz-statistic>

        <ng-template #prefixLocalMembers>
          <span class='fa fa-history'></span>
        </ng-template>
      </nz-card>
    </nz-col>
  </div>
  <div class='tui-row tui-row_adaptive'>
    <div class='tui-col_xs-12 tui-col_md-12 tui-col_lg-6'>
      <nz-card nzTitle="Schools by Region Distribution" [nzLoading]='schoolsLoading$|async' [nzExtra]="genderDistributionExtraTemplate">
        <div class='md:h-96 flex justify-center' *ngIf='schoolByRegionsDistributionStats$$|async as value'>

          <div  class="flex justify-center mr-4">
            <tui-pie-chart [value]="value" size='xl' [hintContent]="content"></tui-pie-chart>
          </div>

          <ng-template #content let-index>
            <div>{{labels[index]}} ({{value[index]}})</div>
          </ng-template>

<!--          <div class="tui-row tui-row_adaptive">-->
<!--            <nz-tag-->
<!--              *ngFor="let label of labels; let index = index"-->
<!--              class="tui-col_md-6"-->
<!--              nzColor="blue">-->
<!--              {{label}} - {{value[index]}}-->
<!--            </nz-tag>-->
<!--          </div>-->
        </div>
      </nz-card>
      <ng-template #genderDistributionExtraTemplate>
        <!--        <a>Refresh</a>-->
      </ng-template>

    </div>
  </div>


</div>
